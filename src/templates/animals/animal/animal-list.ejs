<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../../partials/head-content.ejs') %>
  </head>
  <body>
    <%- include('../../partials/navbar.ejs') %>
    <div class="container-lg">
      <div
        class="d-flex justify-content-between align-items-center flex-wrap my-3"
      >
        <h1>Our animals</h1>
        <% if (currentUser && currentUser.isAdmin) { %>
        <a href="<%= createUrl %>" class="text-decoration-none text-white">
          <button
            class="btn btn-primary d-flex justify-content-between align-items-center"
          >
            <span style="padding-right: 10px">New</span>
            <span class="material-icons">add</span>
          </button>
        </a>
        <% } %>
      </div>

      <ul class="list-group">
        <% animals.forEach(animal => { %>
        <a href="<%= animal.detailsUrl %>" class="text-decoration-none">
          <li
            class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
          >
            <h3><%= animal.name %> (<i><%= animal.scientificName %></i>)</h3>
            <div>
              <% if (currentUser && currentUser.isAdmin) { %>
              <a
                href="<%= animal.updateUrl %>"
                class="text-decoration-none text-white mr-2"
              >
                <button
                  class="btn btn-primary d-inline-flex align-items-center"
                >
                  <i class="material-icons small">edit</i>
                </button>
              </a>
              <a
                href="<%= animal.deleteUrl %>"
                class="text-decoration-none text-white"
              >
                <button class="btn btn-danger d-inline-flex align-items-center">
                  <i class="material-icons small">delete</i>
                </button>
              </a>
              <% } %>
            </div>
          </li>
        </a>
        <% }) %>
      </ul>
    </div>
  </body>
</html>
